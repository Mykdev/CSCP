<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>CSCP</title>

</head>

<body>
    <p>Floats of used skins</p>
<form name="floats">
    F1 <input name="float1"><br><br>
    F2 <input name="float2"><br><br>
    F3 <input name="float3"><br><br>
    F4 <input name="float4"><br><br>
    F5 <input name="float5"><br><br>
    F6 <input name="float6"><br><br>
    F7 <input name="float7"><br><br>
    F8 <input name="float8"><br><br>
    F9 <input name="float9"><br><br>
    F10 <input name="float0"><br><br>
    <input type="button" value="Submit" onclick="getAvgFloat()"> 
</form>
<p id="avgFloat"></p>
<form name="floatBorders">
    Min Float <input name="minFloat"><br><br>
    Max Flaot <input name="maxFloat"><br><br>
    <input type="button" value="Submit" onclick="calculateOutcome()"> 
</form>
<p id="outcomeFloat"></p>
<h3>Avg Float Calculator</h3>
<form name="avgFloatCalc">
    Min Float <input name="minFloatExt"><br><br>
    Max Flaot <input name="maxFloatExt"><br><br>
    Select Exterior 
    <select id="exteriorSelect">
                        <option value="Factory New">Factory New</option>
                        <option value="Minimal Ware">Minimal Ware</option>
                        <option value="Field Tested">Field Tested</option>
                        <option value="Well-Worn">Well-Worn</option>
                        <option value="Battle-Scarred">Battle-Scarred</option>
                    </select>
    <input type="button" value="Submit" onclick="calculatAvgFlaot()"> 
</form>
<p id="avgFloatNeeded"></p>
    <script>
        
        function calculatAvgFlaot(){
            var minFloat = document.getElementsByName("minFloatExt")[0].value;
            var maxFloat = document.getElementsByName("maxFloatExt")[0].value;
            var outcomeFloat = getExteriorFloat(document.getElementById("exteriorSelect").value);
            var avgFloat = (Number(outcomeFloat) - Number(minFloat))/(Number(maxFloat) - Number(minFloat));
            document.getElementById("avgFloatNeeded").innerHTML = "Avg Float Needed: <" + avgFloat;
        }
        function getExteriorFloat(exteriorName){
            var exteriorFloat = "Was unable to determine ¯\\_(ツ)_/¯";
            if(exteriorName =="Factory New"){
                exteriorFloat = 0.07;
            }else if(exteriorName =="Minimal Ware"){
                exteriorFloat = 0.15;
            }else if(exteriorName =="Field Tested"){
                exteriorFloat = 0.15;
            }else if(exteriorName =="Well-Worn"){
                exteriorFloat = 0.38;
            }else if(exteriorName =="Battle-Scarred"){
                exteriorFloat = 0.45;
            }
            return exteriorFloat;
        }
        function getAvgFloat() {
            var floats = document.forms["floats"];
            var text = 0;
            for (let i = 0; i < floats.length-1; i++) {
                indFl = parseFloat(floats.elements[i].value);
                text += indFl;
            }
            var avgFloat = text / 10;
            var exteriorName = getExteriorName(avgFloat);
            document.getElementById("avgFloat").innerHTML ="Avg Float: " + avgFloat + " " + exteriorName;
            return avgFloat;
        }

        function calculateOutcome(){
            var minFloat = document.getElementsByName("minFloat")[0].value;
            var maxFloat = document.getElementsByName("maxFloat")[0].value;
            var avgFloat = getAvgFloat();
            var outcomeFloat = outcomeCalculation(minFloat,maxFloat,avgFloat);
            var exteriorName = getExteriorName(outcomeFloat);
            document.getElementById("outcomeFloat").innerHTML ="Float of the Outcome: " + outcomeFloat + " " + exteriorName;
        }

        function outcomeCalculation(minFloat,maxFloat,avgFloat){
            var outcomeFloat = (Number(maxFloat) - Number(minFloat)) * Number(avgFloat) + Number(minFloat);
            return outcomeFloat;
        }

        function getExteriorName(floatValue){
            var exteriorName = "Was unable to determine ¯\\_(ツ)_/¯";
            if(floatValue < 0.07){
                exteriorName = "Factory New";
            }else if(floatValue >= 0.07 && floatValue < 0.15){
                exteriorName = "Minimal Ware";
            }else if(floatValue >= 0.15 && floatValue < 0.38){
                exteriorName = "Field Tested";
            }else if(floatValue >= 0.38 && floatValue < 0.45){
                exteriorName = "Well-Worn";
            }else if(floatValue >= 0.45){
                exteriorName = "Battle-Scarred";
            }
            return exteriorName;
        }
        
    </script>
</body>

</html>